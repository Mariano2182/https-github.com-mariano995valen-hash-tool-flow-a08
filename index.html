<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>RMM STRUCTURES | Plataforma Industrial</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- ===== IMPORT MAP (CLAVE PARA GITHUB PAGES) ===== -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
    }
  }
  </script>

  <!-- ESTILOS -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

<section class="section">
  <h2>Vista industrial (estilo software de naves)</h2>
  <p>Panel de parámetros → visor central 3D → tablas y validaciones.</p>

  <div class="industrial-shell">

    <!-- PANEL IZQUIERDO -->
    <div class="industrial-panel">
      <h3>Parámetros</h3>

      <label>
        Tipo de cubierta
        <select id="ind-roof">
          <option value="plana">Plana</option>
          <option value="una_agua">Una agua</option>
          <option value="dos_aguas" selected>Dos aguas</option>
        </select>
      </label>

      <label>
        Pendiente cubierta (%)
        <input type="range" id="ind-slope" min="2" max="25" value="10">
        <span id="ind-slope-value">10</span> %
      </label>

      <label>
        Luz de la nave (m)
        <input type="range" id="ind-span" min="10" max="60" value="24">
        <span id="ind-span-value">24</span>
      </label>

      <label>
        Longitud (m)
        <input type="range" id="ind-length" min="20" max="200" value="60">
        <span id="ind-length-value">60</span>
      </label>

      <label>
        Altura libre (m)
        <input type="range" id="ind-height" min="4" max="16" value="8">
        <span id="ind-height-value">8</span>
      </label>

      <label>
        Cantidad de pórticos
        <input type="range" id="ind-frames" min="4" max="24" value="10">
        <span id="ind-frames-value">10</span>
      </label>

      <button class="primary" data-action="generate-model">
        Generar modelo
      </button>
    </div>

    <!-- VISOR 3D -->
    <div class="industrial-view">
      <div class="viewer-topbar">
        <strong>Visor 3D (Preview)</strong>
        <span id="viewer-status">Sin archivo</span>
      </div>

      <div id="ifc-viewer" class="ifc-viewer"></div>

      <div class="viewer-footer">
        <div class="viewer-kpis">
          <div><strong id="kpi-elements">0</strong><span>Elementos</span></div>
          <div><strong id="kpi-weight">0</strong><span>Kg estimados</span></div>
          <div><strong id="kpi-version">-</strong><span>Versión</span></div>
        </div>
        <button class="ghost" data-action="run-rules">Validar modelo</button>
      </div>
    </div>

    <!-- PANEL DERECHO -->
    <div class="industrial-panel right">
      <h3>Tabla (BOM)</h3>
      <div class="table-scroll">
        <table class="data-table">
          <thead>
            <tr>
              <th>Elemento</th>
              <th>Cantidad</th>
              <th>Peso (kg)</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody id="materials-table">
            <tr><td colspan="4">Generá un modelo.</td></tr>
          </tbody>
        </table>
      </div>

      <h3>Validaciones</h3>
      <div id="rules-summary" class="summary-box">Sin validar</div>
      <div id="rules-list" class="rules-list"></div>
    </div>

  </div>
</section>

<!-- SCRIPT PRINCIPAL -->
<script type="module" src="script.js"></script>

</body>
</html>
