<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RMM STRUCTURES | Plataforma BIM Industrial</title>

  <!-- FUENTES -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;600;700;800&display=swap"
    rel="stylesheet"
  />

  <!-- ESTILOS -->
  <link rel="stylesheet" href="styles.css" />

  <!-- SUPABASE (opcional) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <!-- üîë IMPORT MAP (OBLIGATORIO PARA GITHUB PAGES) -->
  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.158.0/build/three.module.js",
      "three/addons/": "https://unpkg.com/three@0.158.0/examples/jsm/"
    }
  }
  </script>

  <!-- SCRIPT PRINCIPAL -->
  <script type="module" src="script.js"></script>
</head>

<body>

<!-- ========================================================= -->
<!-- HERO -->
<!-- ========================================================= -->
<header class="hero" id="home">
  <nav class="top-nav">
    <div class="logo">RMM STRUCTURES</div>
    <div class="nav-links">
      <a href="#industrial">Industrial</a>
      <a href="#wizard">Asistente</a>
      <a href="#backend">Backend</a>
      <button class="primary" data-action="open-demo">Crear mi nave</button>
    </div>
  </nav>

  <div class="hero-content">
    <div>
      <p class="eyebrow">BIM ¬∑ Ingenier√≠a ¬∑ Fabricaci√≥n</p>
      <h1>Dise√±o estructural industrial desde el navegador</h1>
      <p class="lead">
        Plataforma BIM param√©trica para naves industriales,
        compatible con criterios estructurales reales.
      </p>

      <div class="cta-row">
        <button class="primary" data-action="scroll" data-target="#industrial">
          Ver plataforma
        </button>
        <button class="ghost" data-action="scroll" data-target="#wizard">
          Asistente paso a paso
        </button>
      </div>
    </div>
  </div>
</header>

<!-- ========================================================= -->
<!-- INDUSTRIAL -->
<!-- ========================================================= -->
<section id="industrial" class="section">
  <div class="section-title">
    <h2>Vista industrial (estilo software de naves)</h2>
    <p>Panel de par√°metros ‚Üí visor 3D ‚Üí tablas y validaciones.</p>
  </div>

  <div class="industrial-shell">

    <!-- PANEL IZQUIERDO -->
    <aside class="industrial-panel">
      <div class="panel-block">
        <h3>Par√°metros</h3>

        <label>
          Tipo de cubierta
          <select id="ind-roof">
            <option value="plana">Plana</option>
            <option value="una_agua">Una agua</option>
            <option value="dos_aguas">Dos aguas</option>
          </select>
        </label>

        <label>
          Pendiente cubierta (%)
          <input id="ind-slope" type="range" min="3" max="30" value="10" />
          <small><span id="ind-slope-value">10</span> %</small>
        </label>

        <label>
          Luz de la nave (m)
          <input id="ind-span" type="range" min="10" max="60" value="24" />
          <small><span id="ind-span-value">24</span> m</small>
        </label>

        <label>
          Longitud (m)
          <input id="ind-length" type="range" min="20" max="200" value="60" />
          <small><span id="ind-length-value">60</span> m</small>
        </label>

        <label>
          Altura libre (m)
          <input id="ind-height" type="range" min="4" max="16" value="8" />
          <small><span id="ind-height-value">8</span> m</small>
        </label>

        <label>
          Cantidad de p√≥rticos
          <input id="ind-frames" type="range" min="4" max="24" value="10" />
          <small><span id="ind-frames-value">10</span></small>
        </label>
      </div>

      <div class="panel-block">
        <h3>Acciones</h3>

        <div class="button-col">
          <button class="primary" data-action="generate-model">
            Generar modelo
          </button>

          <label class="file-label">
            Cargar IFC
            <input id="ifc-file" type="file" accept=".ifc" />
          </label>

          <button class="ghost" data-action="reset-viewer">
            Reiniciar visor
          </button>

          <button class="ghost" data-action="export-bom">
            Exportar BOM (CSV)
          </button>

          <button class="ghost" data-action="export-json">
            Exportar JSON
          </button>
        </div>

        <p class="helper" id="ifc-status">Visor listo.</p>
      </div>
    </aside>

    <!-- VISOR CENTRAL -->
    <section class="industrial-view">
      <div class="viewer-topbar">
        <span class="viewer-title">Visor 3D (Preview / IFC)</span>
        <span class="status" id="viewer-status">Preview activo</span>
      </div>

      <div id="ifc-viewer" class="ifc-viewer"></div>

      <div class="viewer-footer">
        <div class="viewer-kpis">
          <div><strong id="kpi-elements">0</strong><span>Elementos</span></div>
          <div><strong id="kpi-weight">0</strong><span>Kg estimados</span></div>
          <div><strong id="kpi-version">-</strong><span>Versi√≥n</span></div>
        </div>

        <button class="ghost" data-action="run-rules">
          Validar modelo
        </button>
      </div>
    </section>

    <!-- PANEL DERECHO -->
    <aside class="industrial-panel right">
      <div class="panel-block">
        <h3>Tabla (BOM)</h3>
        <div class="table-scroll">
          <table class="data-table">
            <thead>
              <tr>
                <th>Elemento</th>
                <th>Cantidad</th>
                <th>Peso (kg)</th>
                <th>Estado</th>
              </tr>
            </thead>
            <tbody id="materials-table">
              <tr><td colspan="4">Gener√° un modelo.</td></tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="panel-block">
        <h3>Validaciones</h3>
        <div class="summary-box" id="rules-summary">Listo para validar.</div>
        <div class="rules-list" id="rules-list"></div>
      </div>
    </aside>

  </div>
</section>

<!-- ========================================================= -->
<!-- BACKEND / MODAL / FOOTER -->
<!-- (se mantienen tal como los ten√≠as) -->
<!-- ========================================================= -->

</body>
</html>
